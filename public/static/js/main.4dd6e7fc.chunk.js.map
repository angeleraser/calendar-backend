{"version":3,"sources":["helpers/fetchData.js","types/types.js","actions/ui.js","actions/auth.js","components/hooks/useForm.js","components/auth/LoginForm.js","components/auth/RegisterForm.js","components/auth/LoginScreen.js","helpers/prepareEvent.js","actions/calendar.js","components/ui/Navbar.js","components/ui/DeleteEventFab.js","components/calendar/CalendarEvent.js","components/calendar/helpers.js","components/calendar/CalendarModal.js","components/ui/AddNewFab.js","components/LoadingScreen/LoadingScreen.js","components/calendar/CalendarScreen.js","routers/PrivateRoute.js","routers/PublicRoutes.js","routers/AppRouter.js","reducers/authReducer.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/rootReducer.js","store/store.js","CalendarApp.js","index.js"],"names":["baseURL","process","asyncFetchData","endpoint","method","body","token","url","headers","fetch","JSON","stringify","TYPES","openModal","type","closeModal","eventClearActiveEvent","startLoading","finishLoading","finishChecking","login","name","uid","payload","logout","initDate","moment","minutes","seconds","add","lastDate","clone","useForm","initState","useState","formValues","setFormValues","toDate","startDate","setStartDate","endDate","setEndDate","handleInputChange","target","value","reset","handleSubmit","callback","e","preventDefault","LoginForm","loginEmail","loginPassword","loginFormValues","handleLoginInputChange","handleLoginSubmit","dispatch","useDispatch","isLoading","useSelector","state","ui","className","onSubmit","email","password","a","response","json","ok","msg","errors","localStorage","setItem","Date","getTime","Swal","fire","console","log","required","placeholder","onChange","disabled","RegisterForm","registerName","registerEmail","registerPassword1","registerPassword2","registerFormValues","handleRegisterInputChange","handleRegisterSubmit","LoginScreen","prepareEvents","events","map","event","start","end","eventAddNew","eventUpdated","eventDeleted","eventLoaded","Navbar","username","auth","onClick","clear","DeleteEventFab","setIsLoading","useEffect","getState","id","calendar","activeEvent","getItem","data","eventStartDelete","CalendarEvent","title","user","onDoubleClick","onSelectEvent","eventSetActive","onSelectSlot","onChangeView","setLastView","eventStyleGetter","activeUser","isSelected","style","backgroundColor","_id","borderRadius","opacity","display","color","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","CalendarModal","notes","handleInputValue","resetForm","isInvalid","setInvalid","isModalOpen","isOpen","overlayClassName","onRequestClose","closeTimeoutMS","momentStart","momentEnd","isSameOrAfter","trim","length","eventStartUpdate","allowOutsideClick","willOpen","showLoading","newEvent","close","eventStartAddNew","minDate","autoComplete","rows","AddNewFab","LoadingScreen","localizer","momentLocalizer","CalendarScreen","lastView","startAccessor","endAccessor","eventPropGetter","onDoubleClickEvent","selectable","onView","view","components","PrivateRoute","path","Component","component","isAuthenticated","rest","props","to","PublicRoute","AppRouter","checking","exact","rootReducer","combineReducers","action","filter","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4dd6e7fc.chunk.js","sourcesContent":["const baseURL = process.env.REACT_APP_API_URL;\r\nexport const asyncFetchData = (\r\n  endpoint,\r\n  { method = \"GET\", body, token } = {}\r\n) => {\r\n  const url = `${baseURL}/${endpoint}`,\r\n    headers = {\r\n      \"Content-type\": \"application/json\",\r\n    };\r\n  if (token) {\r\n    headers[\"x-token\"] = token;\r\n  }\r\n  if (method === \"GET\") {\r\n    return fetch(url, {\r\n      method,\r\n      headers,\r\n    });\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers,\r\n      body: JSON.stringify(body),\r\n    });\r\n  }\r\n};\r\n","export const TYPES = {\r\n  uiOpenModal: \"[UI] Open Modal\",\r\n  uiCloseModal: \"[UI] Close Modal\",\r\n  uiStartLoading: \"[UI] Start Loading\",\r\n  uiFinishLoading: \"[UI] Finish Loading\",\r\n\r\n  eventSetActive: \"[Event] Set active\",\r\n  eventLogoutCleanup: \"[Event] Logout cleanup\",\r\n  eventClearActiveEvent: \"[Event] Clear active event\",\r\n  eventLoaded: \"[Event] Loaded\",\r\n  eventStartAddNew: \"[Event] Start add new\",\r\n  eventAddNew: \"[Event] Add new\",\r\n  eventUpdated: \"[Event] Updated\",\r\n  eventDeleted: \"[Event] Deleted\",\r\n\r\n  authChecking: \"[Auth] Checking login state\",\r\n  authFinishChecking: \"[Auth] Finish checking login state\",\r\n  authStartLogin: \"[Auth] Start login\",\r\n  authLogin: \"[Auth] Login\",\r\n  authStartRegister: \"[Auth] Start register\",\r\n  authStartTokenRenew: \"[Auth] Start token renew\",\r\n  authLogout: \"[Auth] Logout\",\r\n};\r\n","import { TYPES } from \"../types/types\";\r\n\r\nexport const openModal = () => ({\r\n  type: TYPES.uiOpenModal,\r\n});\r\n\r\nexport const closeModal = () => ({\r\n  type: TYPES.uiCloseModal,\r\n});\r\n\r\nexport const eventClearActiveEvent= () => {\r\n  return {\r\n    type: TYPES.eventClearActiveEvent,\r\n  };\r\n};\r\n\r\nexport const startLoading = () => ({\r\n  type: TYPES.uiStartLoading,\r\n});\r\n\r\nexport const finishLoading = () => ({\r\n  type: TYPES.uiFinishLoading,\r\n});\r\n","/* eslint-disable no-unused-vars */\r\nimport Swal from \"sweetalert2\";\r\nimport { asyncFetchData } from \"../helpers/fetchData\";\r\nimport { TYPES } from \"../types/types\";\r\nimport { finishLoading, startLoading } from \"./ui\";\r\nexport const startLogin = (email, password) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(startLoading());\r\n      const response = await asyncFetchData(\"auth\", {\r\n        method: \"POST\",\r\n        body: {\r\n          email,\r\n          password,\r\n        },\r\n      });\r\n      const { name, uid, token, ok, msg, errors } = await response.json();\r\n      // Save token to controls if is expired\r\n      if (ok) {\r\n        localStorage.setItem(\"token\", token);\r\n        localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n        dispatch(login(name, uid));\r\n      } else {\r\n        Swal.fire(\"Error\", msg, \"error\");\r\n        dispatch(finishLoading());\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(finishLoading());\r\n    }\r\n  };\r\n};\r\n\r\nexport const startRegister = (email, name, password) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(startLoading());\r\n      const response = await asyncFetchData(\"auth/register\", {\r\n        method: \"POST\",\r\n        body: {\r\n          name,\r\n          password,\r\n          email,\r\n        },\r\n      });\r\n      const body = await response.json();\r\n      if (body.ok) {\r\n        localStorage.setItem(\"token\", body.token);\r\n        localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n        dispatch(login(body.name, body.uid));\r\n      } else {\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n        dispatch(finishLoading());\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      console.log(\"Register failed :(\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startChecking = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await asyncFetchData(\"auth/renew-token\", {\r\n        method: \"GET\",\r\n        token: localStorage.getItem(\"token\") || \"\",\r\n      });\r\n      const data = await response.json();\r\n      if (data.ok) {\r\n        dispatch(login(data.name, data.uid));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      console.log(\"Checking token failed :(\");\r\n    } finally {\r\n      dispatch(finishChecking());\r\n    }\r\n  };\r\n};\r\n\r\nexport const finishChecking = () => ({\r\n  type: TYPES.authFinishChecking,\r\n});\r\n\r\nexport const login = (name, uid) => ({\r\n  type: TYPES.authLogin,\r\n  payload: {\r\n    name,\r\n    uid,\r\n  },\r\n});\r\n\r\n// Se puede retonar dispatch si es necesario hacer mas operaciones o acciones incluso si no son asincronas\r\nexport const startLogout = () => {\r\n  return (dispatch) => {\r\n    localStorage.clear();\r\n    dispatch(logout());\r\n  };\r\n};\r\n\r\nexport const logout = () => ({\r\n  type: TYPES.authLogout,\r\n});\r\n","import { useState } from \"react\";\r\nimport moment from \"moment\";\r\nconst initDate = moment().minutes(0).seconds(0).add(1, \"hours\");\r\nconst lastDate = moment().clone().minutes(0).seconds(0).add(2, \"hours\");\r\nexport const useForm = (initState = {}) => {\r\n  const [formValues, setFormValues] = useState(initState);\r\n  const [startDate, setStartDate] = useState(initDate.toDate());\r\n  const [endDate, setEndDate] = useState(lastDate.toDate());\r\n  const handleInputChange = ({ target }) => {\r\n      setFormValues({\r\n        ...formValues,\r\n        [target.name]: target.value,\r\n      });\r\n    },\r\n    reset = () => {\r\n      setFormValues(initState);\r\n      setStartDate(initDate.toDate());\r\n      setEndDate(lastDate.toDate());\r\n    },\r\n    handleSubmit = (callback) => {\r\n      return (e) => {\r\n        e.preventDefault();\r\n        callback();\r\n      };\r\n    };\r\n  return [\r\n    [formValues, startDate, endDate],\r\n    [handleInputChange, setStartDate, setEndDate, setFormValues],\r\n    handleSubmit,\r\n    reset,\r\n  ];\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { startLogin } from \"../../actions/auth\";\r\nimport { useForm } from \"../hooks/useForm\";\r\n\r\nexport const LoginForm = () => {\r\n  const [\r\n    [loginFormValues],\r\n    [handleLoginInputChange],\r\n    handleLoginSubmit,\r\n  ] = useForm({\r\n    loginEmail: \"\",\r\n    loginPassword: \"\",\r\n  });\r\n  const dispatch = useDispatch();\r\n  const { isLoading } = useSelector((state) => state.ui);\r\n  const { loginEmail, loginPassword } = loginFormValues;\r\n  const dispatchLoginActions = () => {\r\n    dispatch(startLogin(loginEmail, loginPassword));\r\n  };\r\n  return (\r\n    <div className=\"col-md-6 login-form-1\">\r\n      <h3>Login</h3>\r\n      <form onSubmit={handleLoginSubmit(dispatchLoginActions)}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            required={true}\r\n            className=\"form-control\"\r\n            placeholder=\"Email\"\r\n            name=\"loginEmail\"\r\n            value={loginEmail}\r\n            onChange={handleLoginInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"password\"\r\n            required={true}\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            name=\"loginPassword\"\r\n            value={loginPassword}\r\n            onChange={handleLoginInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <button disabled={isLoading} className=\"btnSubmit\" type=\"submit\">\r\n            {isLoading ? \"Loading...\" : \"Login\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { startRegister } from \"../../actions/auth\";\r\nimport { useForm } from \"../hooks/useForm\";\r\n\r\nexport const RegisterForm = () => {\r\n  const [\r\n      [registerFormValues],\r\n      [handleRegisterInputChange],\r\n      handleRegisterSubmit,\r\n    ] = useForm({\r\n      registerName: \"\",\r\n      registerEmail: \"\",\r\n      registerPassword1: \"\",\r\n      registerPassword2: \"\",\r\n    }),\r\n    {\r\n      registerName,\r\n      registerEmail,\r\n      registerPassword1,\r\n      registerPassword2,\r\n    } = registerFormValues;\r\n  const dispatch = useDispatch();\r\n  const { isLoading } = useSelector((state) => state.ui);\r\n  const dispatchRegisterActions = () => {\r\n    if (registerPassword1 === registerPassword2) {\r\n      dispatch(startRegister(registerEmail, registerName, registerPassword1));\r\n    } else {\r\n      Swal.fire(\"Error\", \"Passwords should be equal.\", \"error\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"col-md-6 login-form-2\">\r\n      <h3>Sign Up</h3>\r\n      <form onSubmit={handleRegisterSubmit(dispatchRegisterActions)}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            required={true}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Name\"\r\n            value={registerName}\r\n            onChange={handleRegisterInputChange}\r\n            name=\"registerName\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            required={true}\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            placeholder=\"email@example.com\"\r\n            value={registerEmail}\r\n            onChange={handleRegisterInputChange}\r\n            name=\"registerEmail\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            required={true}\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            value={registerPassword1}\r\n            onChange={handleRegisterInputChange}\r\n            name=\"registerPassword1\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <input\r\n            required={true}\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Repeat your password\"\r\n            value={registerPassword2}\r\n            onChange={handleRegisterInputChange}\r\n            name=\"registerPassword2\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <button disabled={isLoading} className=\"btnSubmit\" type=\"submit\">\r\n            {isLoading ? \"Loading...\" : \"Register\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./login.css\";\r\nimport { LoginForm } from \"./LoginForm\";\r\nimport { RegisterForm } from \"./RegisterForm\";\r\n\r\nexport const LoginScreen = () => {\r\n  return (\r\n    <div className=\"container login-container\">\r\n      <div className=\"row d-flex justify-content-center mb-4\">\r\n        <h2 className=\"text-primary\">Calendar App <i className=\"fa fa-calendar\"></i></h2>\r\n      </div>\r\n      <div className=\"row\">\r\n        <LoginForm />\r\n        <RegisterForm />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import moment from \"moment\";\r\nexport const prepareEvents = (events) =>\r\n  events.map((event) => ({\r\n    ...event,\r\n    start: moment(event.start).toDate(),\r\n    end: moment(event.end).toDate(),\r\n  }));\r\n","/* eslint-disable no-unused-vars */\r\nimport Swal from \"sweetalert2\";\r\nimport { asyncFetchData } from \"../helpers/fetchData\";\r\nimport { prepareEvents } from \"../helpers/prepareEvent\";\r\nimport { TYPES } from \"../types/types\";\r\nimport { finishLoading, startLoading } from \"./ui\";\r\n\r\nconst eventAddNew = (event) => {\r\n  return {\r\n    type: TYPES.eventAddNew,\r\n    payload: event,\r\n  };\r\n};\r\n\r\nexport const eventStartAddNew = (event) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      Swal.fire({\r\n        title: \"Saving...\",\r\n        allowOutsideClick: false,\r\n        willOpen() {\r\n          Swal.showLoading();\r\n        },\r\n      });\r\n      const response = await asyncFetchData(\"events\", {\r\n        method: \"POST\",\r\n        body: {\r\n          ...event,\r\n        },\r\n        token: localStorage.getItem(\"token\") || \"\",\r\n      });\r\n      const data = await response.json();\r\n      if (data.ok) {\r\n        const {\r\n          auth: { uid, name },\r\n        } = getState();\r\n        const newEvent = {\r\n          ...event,\r\n          id: data.event.id,\r\n          user: {\r\n            _id: uid,\r\n            name,\r\n          },\r\n        };\r\n        dispatch(eventAddNew(newEvent));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      Swal.close();\r\n    }\r\n  };\r\n};\r\n\r\nexport const eventStartDelete = (setIsLoading) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const {\r\n        activeEvent: { id },\r\n      } = getState().calendar;\r\n      const response = await asyncFetchData(`events/${id}`, {\r\n        method: \"DELETE\",\r\n        token: localStorage.getItem(\"token\") || \"\",\r\n      });\r\n      const data = await response.json();\r\n      if (data.ok) {\r\n        dispatch(eventDeleted());\r\n      } else {\r\n        Swal.fire(\"Error\", data.msg, \"error\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    } \r\n  };\r\n};\r\n\r\nexport const eventStartUpdate = (event) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await asyncFetchData(`events/${event.id}`, {\r\n        method: \"PUT\",\r\n        body: {\r\n          ...event,\r\n        },\r\n        token: localStorage.getItem(\"token\") || \"\",\r\n      });\r\n      const data = await response.json();\r\n      if (data.ok) {\r\n        dispatch(eventUpdated(event));\r\n      } else {\r\n        Swal.fire(\"Error\", data.msg, \"error\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      console.log(\"Updating event failed :(\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const eventSetActive = (event) => {\r\n  return {\r\n    type: TYPES.eventSetActive,\r\n    payload: event,\r\n  };\r\n};\r\n\r\nexport const eventUpdated = (event) => ({\r\n  type: TYPES.eventUpdated,\r\n  payload: event,\r\n});\r\n\r\nexport const eventDeleted = () => ({\r\n  type: TYPES.eventDeleted,\r\n});\r\n\r\nexport const eventStartLoading = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(startLoading());\r\n      const response = await asyncFetchData(\"events\", {\r\n        method: \"GET\",\r\n        token: localStorage.getItem(\"token\") || \"\",\r\n      });\r\n      const { events } = await response.json();\r\n      dispatch(eventLoaded(prepareEvents(events)));\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      dispatch(finishLoading());\r\n    }\r\n  };\r\n};\r\n\r\nconst eventLoaded = (events) => {\r\n  return {\r\n    type: TYPES.eventLoaded,\r\n    payload: events,\r\n  };\r\n};\r\n\r\nexport const eventLogoutCleanup = () => ({ type: TYPES.eventLogoutCleanup });\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { startLogout } from \"../../actions/auth\";\r\nimport { eventLogoutCleanup } from \"../../actions/calendar\";\r\nexport const Navbar = () => {\r\n  const { name: username } = useSelector(({ auth }) => auth);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <nav className=\"navbar navbar-dark bg-dark\">\r\n      <span className=\"navbar-brand\">\r\n        <i className=\"fa fa-user mr-2\"></i>\r\n        {username}\r\n      </span>\r\n      <button\r\n        onClick={() => {\r\n          dispatch(startLogout());\r\n          dispatch(eventLogoutCleanup());\r\n        }}\r\n        className=\"btn btn-outline-danger\">\r\n        <i className=\"fa fa-close\"></i> Logout\r\n      </button>\r\n    </nav>\r\n  );\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { eventStartDelete } from \"../../actions/calendar\";\r\nexport const DeleteEventFab = () => {\r\n  const dispatch = useDispatch();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  useEffect(() => {\r\n    return () => {\r\n      setIsLoading(false);\r\n    };\r\n  }, []);\r\n  return (\r\n    <button\r\n      disabled={isLoading}\r\n      onClick={() => {\r\n        dispatch(eventStartDelete(setIsLoading));\r\n      }}\r\n      className=\"fab-danger btn btn-danger\">\r\n      {\" \"}\r\n      {isLoading ? \"Deleting...\" : \"Delete\"} <i className=\"fa fa-trash\"></i>\r\n    </button>\r\n  );\r\n};\r\n","import React from \"react\";\r\nexport const CalendarEvent = ({ event }) => {\r\n  return (\r\n    <div className=\"flex-column align-items-start d-flex\">\r\n      <strong>{event.title}</strong>\r\n      <span className='mt-2'>- {event.user.name}</span>\r\n    </div>\r\n  );\r\n};\r\n","import { eventSetActive } from \"../../actions/calendar\";\r\nimport { eventClearActiveEvent, openModal } from \"../../actions/ui\";\r\n\r\nexport const onDoubleClick = (dispatch) => {\r\n  return (event) => {\r\n    dispatch(openModal());\r\n  };\r\n};\r\nexport const onSelectEvent = (dispatch) => {\r\n  return (event) => {\r\n    dispatch(eventSetActive({ ...event }));\r\n  };\r\n};\r\nexport const onSelectSlot = (dispatch) => {\r\n  return (e) => {\r\n    dispatch(eventClearActiveEvent());\r\n  };\r\n};\r\nexport const onChangeView = (setLastView) => {\r\n  return (e) => {\r\n    setLastView(e);\r\n    localStorage.setItem(\"last-view\", e);\r\n  };\r\n};\r\nexport const eventStyleGetter = (activeUser) => {\r\n  return (event, start, end, isSelected) => {\r\n    const style = {\r\n      backgroundColor: activeUser === event.user._id ? \"#367cf7\" : \"#465660\",\r\n      borderRadius: \"0px\",\r\n      opacity: \"0.8\",\r\n      display: \"block\",\r\n      color: \"#fff\",\r\n    };\r\n    return {\r\n      style,\r\n    };\r\n  };\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport moment from \"moment\";\r\nimport DateTimePicker from \"react-datetime-picker\";\r\nimport { useForm } from \"../hooks/useForm\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { closeModal, eventClearActiveEvent } from \"../../actions/ui\";\r\nimport { eventStartAddNew, eventStartUpdate } from \"../../actions/calendar\";\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\nif (process.env.NODE_ENV !== \"test\") {\r\n  Modal.setAppElement(\"#root\");\r\n}\r\nexport const CalendarModal = () => {\r\n  const [\r\n    formValues,\r\n    [handleInputValue, setStartDate, setEndDate, setFormValues],\r\n    handleSubmit,\r\n    resetForm,\r\n  ] = useForm({\r\n    title: \"\",\r\n    notes: \"\",\r\n  });\r\n  const [{ title, notes }, startDate, endDate] = formValues;\r\n  const [isInvalid, setInvalid] = useState(false);\r\n  const { isModalOpen } = useSelector(({ ui }) => ui);\r\n  const { activeEvent } = useSelector(({ calendar }) => calendar);\r\n  const dispatch = useDispatch();\r\n  const onRequestcloseModal = () => {\r\n    dispatch(eventClearActiveEvent());\r\n    dispatch(closeModal());\r\n    resetForm();\r\n  };\r\n  const validateForm = () => {\r\n    const momentStart = moment(startDate),\r\n      momentEnd = moment(endDate);\r\n    if (momentStart.isSameOrAfter(momentEnd)) {\r\n      return Swal.fire(\r\n        \"Error\",\r\n        \"Start date should be less than end date.\",\r\n        \"error\"\r\n      );\r\n    } else if (title.trim().length < 2) {\r\n      setInvalid(true);\r\n    } else {\r\n      const event = {\r\n        title,\r\n        notes,\r\n        start: startDate,\r\n        end: endDate,\r\n      };\r\n      if (activeEvent) {\r\n        dispatch(\r\n          eventStartUpdate({\r\n            ...activeEvent,\r\n            title,\r\n            notes,\r\n            start: startDate,\r\n            end: endDate,\r\n          })\r\n        );\r\n      } else {\r\n        dispatch(eventStartAddNew(event));\r\n      }\r\n      resetForm();\r\n      dispatch(eventClearActiveEvent());\r\n      dispatch(closeModal());\r\n      setInvalid(false);\r\n    }\r\n  };\r\n  // Reset or update form if active note\r\n  useEffect(() => {\r\n    if (activeEvent) {\r\n      // Update current form values with the event selected values\r\n      const { title, notes, start, end } = activeEvent;\r\n      setFormValues({\r\n        title,\r\n        notes,\r\n      });\r\n      setStartDate(start);\r\n      setEndDate(end);\r\n    } else {\r\n      resetForm();\r\n    }\r\n  }, [activeEvent]);\r\n  return (\r\n    <Modal\r\n      isOpen={isModalOpen}\r\n      className=\"modal\"\r\n      overlayClassName=\"modal-fondo\"\r\n      onRequestClose={onRequestcloseModal}\r\n      closeTimeoutMS={200}\r\n      style={customStyles}>\r\n      <h1> New Event</h1>\r\n      <hr />\r\n      <form onSubmit={handleSubmit(validateForm)} className=\"container\">\r\n        <div className=\"form-group\">\r\n          <label>Start date</label>\r\n          <DateTimePicker\r\n            onChange={setStartDate}\r\n            value={startDate}\r\n            className=\"form-control\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>End date</label>\r\n          <DateTimePicker\r\n            onChange={setEndDate}\r\n            value={endDate}\r\n            minDate={startDate}\r\n            className=\"form-control\"\r\n          />\r\n        </div>\r\n        <hr />\r\n        <div className=\"form-group\">\r\n          <label>Subject and notes</label>\r\n          <input\r\n            type=\"text\"\r\n            className={`form-control ${isInvalid ? \"is-invalid\" : \"\"}`}\r\n            placeholder=\"Subject\"\r\n            name=\"title\"\r\n            value={title}\r\n            onChange={handleInputValue}\r\n            autoComplete=\"off\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <textarea\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Type your notes here...\"\r\n            rows=\"5\"\r\n            name=\"notes\"\r\n            value={notes}\r\n            onChange={handleInputValue}></textarea>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"fa fa-save\"></i>\r\n          <span> Save</span>\r\n        </button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { openModal } from \"../../actions/ui\";\r\n\r\nexport const AddNewFab = () => {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <button\r\n      onClick={() => {\r\n        dispatch(openModal());\r\n      }}\r\n      className=\"fab btn btn-primary\">\r\n      <i className=\"fa fa-plus\"></i>\r\n    </button>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./css/LoadingScreen.css\";\r\nexport const LoadingScreen = () => {\r\n  return (\r\n    <div className=\"loading-screen\">\r\n      <div className=\"sk-chase\">\r\n        <div className=\"sk-chase-dot\"></div>\r\n        <div className=\"sk-chase-dot\"></div>\r\n        <div className=\"sk-chase-dot\"></div>\r\n        <div className=\"sk-chase-dot\"></div>\r\n        <div className=\"sk-chase-dot\"></div>\r\n        <div className=\"sk-chase-dot\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Navbar } from \"../ui/Navbar\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport moment from \"moment\";\r\nimport { DeleteEventFab } from \"../ui/DeleteEventFab\";\r\nimport { CalendarEvent } from \"./CalendarEvent\";\r\nimport {\r\n  eventStyleGetter,\r\n  onChangeView,\r\n  onDoubleClick,\r\n  onSelectEvent,\r\n  onSelectSlot,\r\n} from \"./helpers\";\r\nimport { CalendarModal } from \"./CalendarModal\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { AddNewFab } from \"../ui/AddNewFab\";\r\nimport { eventStartLoading } from \"../../actions/calendar\";\r\nimport { LoadingScreen } from \"../LoadingScreen/LoadingScreen\";\r\nconst localizer = momentLocalizer(moment);\r\nexport const CalendarScreen = () => {\r\n  useEffect(() => {\r\n    dispatch(eventStartLoading());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const [lastView, setLastView] = useState(\r\n    localStorage.getItem(\"last-view\") || \"month\"\r\n  );\r\n  const { events, activeEvent, uid: activeUser, isLoading } = useSelector(\r\n    ({ calendar, ui, auth }) => ({\r\n      ...calendar,\r\n      ...ui,\r\n      ...auth,\r\n    })\r\n  );\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <div className=\"calendar-screen\">\r\n      {isLoading ? (\r\n        <LoadingScreen />\r\n      ) : (\r\n        <>\r\n          <Navbar />\r\n          <Calendar\r\n            localizer={localizer}\r\n            events={events}\r\n            startAccessor=\"start\"\r\n            endAccessor=\"end\"\r\n            eventPropGetter={eventStyleGetter(activeUser)}\r\n            onDoubleClickEvent={onDoubleClick(dispatch)}\r\n            onSelectEvent={onSelectEvent(dispatch)}\r\n            onSelectSlot={onSelectSlot(dispatch)}\r\n            selectable={true}\r\n            onView={onChangeView(setLastView)}\r\n            view={lastView}\r\n            components={{\r\n              event: CalendarEvent,\r\n            }}\r\n          />\r\n          {!!activeEvent && <DeleteEventFab />}\r\n          <AddNewFab />\r\n          <CalendarModal />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import { Redirect, Route } from \"react-router-dom\";\r\n\r\nexport const PrivateRoute = ({\r\n  path,\r\n  component: Component,\r\n  isAuthenticated,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n    \r\n      path={path}\r\n      {...rest}\r\n      component={(props) => {\r\n        return isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import { Redirect, Route } from \"react-router-dom\";\r\nexport const PublicRoute = ({\r\n  path,\r\n  component: Component,\r\n  isAuthenticated,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      path={path}\r\n      {...rest}\r\n      component={(props) => {\r\n        return !isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/\" />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { BrowserRouter, Redirect, Switch } from \"react-router-dom\";\r\nimport { startChecking } from \"../actions/auth\";\r\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\r\nimport { CalendarScreen } from \"../components/calendar/CalendarScreen\";\r\nimport { LoadingScreen } from \"../components/LoadingScreen/LoadingScreen\";\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\nimport { PublicRoute } from \"./PublicRoutes\";\r\nexport const AppRouter = () => {\r\n  const dispatch = useDispatch();\r\n  const { checking, uid } = useSelector(({ auth }) => auth);\r\n  // Check if token is valid\r\n  useEffect(() => {\r\n    dispatch(startChecking());\r\n  }, [dispatch]);\r\n  if (checking) {\r\n    return <LoadingScreen />;\r\n  }\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <PublicRoute\r\n          isAuthenticated={!!uid}\r\n          exact\r\n          path=\"/login\"\r\n          component={LoginScreen}\r\n        />\r\n        <PrivateRoute\r\n          isAuthenticated={!!uid}\r\n          exact\r\n          path=\"/\"\r\n          component={CalendarScreen}\r\n        />\r\n        <Redirect to=\"/login\" />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n","import { TYPES } from \"../types/types\";\r\n\r\nconst initState = {\r\n  checking: true,\r\n  uid: null,\r\n  name: null,\r\n};\r\n\r\nexport const authReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case TYPES.authLogin:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        checking: false,\r\n      };\r\n    case TYPES.authFinishChecking:\r\n      return {\r\n        ...state,\r\n        checking: false,\r\n      };\r\n    case TYPES.authLogout:\r\n      return {\r\n        checking: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { TYPES } from \"../types/types\";\r\nconst initState = {\r\n  events: [],\r\n  activeEvent: null,\r\n};\r\n\r\nexport const calendarReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case TYPES.eventSetActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: action.payload,\r\n      };\r\n    case TYPES.eventAddNew:\r\n      return {\r\n        ...state,\r\n        events: [...state.events, action.payload],\r\n      };\r\n    case TYPES.eventClearActiveEvent:\r\n      return {\r\n        ...state,\r\n        activeEvent: null,\r\n      };\r\n    case TYPES.eventUpdated:\r\n      return {\r\n        ...state,\r\n        events: state.events.map((e) =>\r\n          e.id === action.payload.id ? action.payload : e\r\n        ),\r\n      };\r\n    case TYPES.eventDeleted:\r\n      return {\r\n        ...state,\r\n        events: state.events.filter((e) => e.id !== state.activeEvent.id),\r\n        activeEvent: null,\r\n      };\r\n    case TYPES.eventLoaded:\r\n      return {\r\n        ...state,\r\n        events: [...action.payload],\r\n      };\r\n    case TYPES.eventLogoutCleanup:\r\n      return { ...initState };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { TYPES } from \"../types/types\";\r\n\r\nconst initState = {\r\n  isModalOpen: false,\r\n  isLoading: false,\r\n};\r\n\r\nexport const uiReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case TYPES.uiOpenModal:\r\n      return {\r\n        ...state,\r\n        isModalOpen: true,\r\n      };\r\n    case TYPES.uiCloseModal:\r\n      return {\r\n        ...state,\r\n        isModalOpen: false,\r\n      };\r\n    case TYPES.uiStartLoading:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case TYPES.uiFinishLoading:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { authReducer } from \"./authReducer\";\r\nimport { calendarReducer } from \"./calendarReducer\";\r\nimport { uiReducer } from \"./uiReducer\";\r\nexport const rootReducer = combineReducers({\r\n  ui: uiReducer,\r\n  calendar: calendarReducer,\r\n  auth: authReducer,\r\n});\r\n","import { createStore, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { rootReducer } from \"../reducers/rootReducer\";\r\nconst composeEnhancers =\r\n  (typeof window !== \"undefined\" &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n  compose;\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { AppRouter } from \"./routers/AppRouter\";\r\nimport { store } from \"./store/store\";\r\nexport const CalendarApp = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <AppRouter />\r\n    </Provider>\r\n  );\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CalendarApp } from \"./CalendarApp\";\nimport \"./styles.css\";\nReactDOM.render(<CalendarApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}